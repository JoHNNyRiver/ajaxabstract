'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},Ajax=function(){var b={},c=function(d,e,f){var g=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,h=new window.XMLHttpRequest;h.open(d,e,!0),b.headers&&'object'!==('undefined'==typeof g?'undefined':_typeof(g))&&h.setRequestHeader(b.headers.contentType,b.headers.application),h.onprogress=function(i){b.progress=i},h.onerror=function(){window.console.clear(),f(null,{message:'Erro ao estabelecer conex\xE3o com '+e,status:h.status})},h.onload=function(){if(200===h.status){var i=h.getResponseHeader('Content-Type'),j=null;switch(i){case'application/json':j=JSON.parse(h.responseText);break;case'text/html':var k=new window.DOMParser;j=k.parseFromString(h.responseText,'text/html');break;case'application/xml':var l=new window.DOMParser;j=l.parseFromString(h.responseText,'application/xml');break;default:j=!1;}f({data:h.responseText,parsed:j,status:h.status,statusText:h.statusText,time:b.progress,mimitype:i},null)}else f(null,{message:h.responseText,status:h.status,time:b.progress})},h.send(g)};return b.settings=function(_ref){var _ref$target=_ref.target,d=void 0===_ref$target?0:_ref$target,_ref$key=_ref.key,e=void 0===_ref$key?null:_ref$key,f=document.forms[d]?document.forms[d]:document.querySelector(d);return e&&f.insertAdjacentHTML('beforeend','<input type="hidden" value="'+e+'" name="key">'),b.target=f,this},b.setHeader=function(d,e){return b.headers={},b.headers.contentType=d,b.headers.application=e,this},['get','post','put','delete'].forEach(function(d){b[d]=function(e){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,g=arguments[2],h=f instanceof window.FormData?f:JSON.stringify(f);return'function'==typeof f&&(g=f),c(d,e,g,h),this}}),b}();
